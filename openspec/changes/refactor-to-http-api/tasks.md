# 任务列表：HTTP API 悬浮窗

## 阶段 1：修复悬浮窗显示

- [ ] 1.1 调试悬浮窗不显示的问题（优先级：高）
- [ ] 1.2 验证悬浮窗配置正确性（优先级：高）
- [ ] 1.3 测试悬浮窗基本功能（优先级：中）

## 阶段 2：添加 HTTP API 服务器

- [ ] 2.1 在 Tauri 后端添加 HTTP 服务器依赖（优先级：高）
- [ ] 2.2 实现 `/api/task/start` 端点（优先级：高）
- [ ] 2.3 实现 `/api/task/progress` 端点（优先级：高）
- [ ] 2.4 实现 `/api/task/token` 端点（优先级：高）
- [ ] 2.5 实现 `/api/task/complete` 端点（优先级：高）
- [ ] 2.6 实现 `/api/task/error` 端点（优先级：中）
- [ ] 2.7 实现 `/api/task/cancel` 端点（优先级：中）
- [ ] 2.8 实现 `/api/status` 端点（优先级：中）
- [ ] 2.9 实现 `/api/window/activate` 端点（优先级：中）

## 阶段 3：更新前端 UI

- [ ] 3.1 添加 Token 数量显示组件（优先级：高）
- [ ] 3.2 更新状态显示样式（优先级：高）
- [ ] 3.3 实现点击激活窗口功能（优先级：高）
- [ ] 3.4 更新右键菜单（优先级：中）

## 阶段 4：移除 VSCode 集成

- [ ] 4.1 删除 `vscode-extension/` 目录（优先级：高）
- [ ] 4.2 删除 VSCode 适配器代码（优先级：高）
- [ ] 4.3 移除 VSCode 相关设置项（优先级：高）
- [ ] 4.4 清理相关测试文件（优先级：中）
- [ ] 4.5 更新文档（优先级：中）

## 阶段 5：测试和验证

- [ ] 5.1 编写 HTTP API 测试（优先级：高）
- [ ] 5.2 测试悬浮窗显示和交互（优先级：高）
- [ ] 5.3 集成测试（优先级：高）
- [ ] 5.4 端到端测试（优先级：中）
- [ ] 5.5 性能测试（优先级：低）

## 依赖关系

- 阶段 2 完成后才能进行阶段 3 的窗口激活功能测试
- 阶段 4 可与阶段 2、3 并行进行
